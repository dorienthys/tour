(function(w){"use strict";var h={};w.respond=h;h.update=function(){};var l=[],xmlHttp=(function(){var a=false;try{a=new w.XMLHttpRequest()}catch(e){a=new w.ActiveXObject("Microsoft.XMLHTTP")}return function(){return a}})(),ajax=function(a,b){var c=xmlHttp();if(!c){return}c.open("GET",a,true);c.onreadystatechange=function(){if(c.readyState!==4||c.status!==200&&c.status!==304){return}b(c.responseText)};if(c.readyState===4){return}c.send(null)},isUnsupportedMediaQuery=function(a){return a.replace(h.regex.minmaxwh,'').match(h.regex.other)};h.ajax=ajax;h.queue=l;h.unsupportedmq=isUnsupportedMediaQuery;h.regex={media:/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi,keyframes:/@(?:\-(?:o|moz|webkit)\-)?keyframes[^\{]+\{(?:[^\{\}]*\{[^\}\{]*\})+[^\}]*\}/gi,comments:/\/\*[^*]*\*+([^/][^*]*\*+)*\urls:/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,findStyles:/@media *([^\{]+)\{([\S\s]+?)$/,only:/(only\s+)?([a-zA-Z]+)\s?/,minw:/\(\s*min\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/,maxw:/\(\s*max\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/,minmaxwh:/\(\s*m(in|ax)\-(height|width)\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/gi,other:/\([^\)]*\)/g};h.mediaQueriesSupported=w.matchMedia&&w.matchMedia("only all")!==null&&w.matchMedia("only all").matches;if(h.mediaQueriesSupported){return}var m=w.document,docElem=m.documentElement,mediastyles=[],rules=[],appendedEls=[],parsedSheets={},resizeThrottle=30,head=m.getElementsByTagName("head")[0]||docElem,base=m.getElementsByTagName("base")[0],links=head.getElementsByTagName("link"),lastCall,resizeDefer,eminpx,getEmValue=function(){var a,div=m.createElement('div'),body=m.body,originalHTMLFontSize=docElem.style.fontSize,originalBodyFontSize=body&&body.style.fontSize,fakeUsed=false;div.style.cssText="position:absolute;font-size:1em;width:1em";if(!body){body=fakeUsed=m.createElement("body");body.style.background="none"}docElem.style.fontSize="100%";body.style.fontSize="100%";body.appendChild(div);if(fakeUsed){docElem.insertBefore(body,docElem.firstChild)}a=div.offsetWidth;if(fakeUsed){docElem.removeChild(body)}else{body.removeChild(div)}docElem.style.fontSize=originalHTMLFontSize;if(originalBodyFontSize){body.style.fontSize=originalBodyFontSize}a=eminpx=parseFloat(a);return a},applyMedia=function(a){var b="clientWidth",docElemProp=docElem[b],currWidth=m.compatMode==="CSS1Compat"&&docElemProp||m.body[b]||docElemProp,styleBlocks={},lastLink=links[links.length-1],now=(new Date()).getTime();if(a&&lastCall&&now-lastCall<resizeThrottle){w.clearTimeout(resizeDefer);resizeDefer=w.setTimeout(applyMedia,resizeThrottle);return}else{lastCall=now}for(var i in mediastyles){if(mediastyles.hasOwnProperty(i)){var c=mediastyles[i],min=c.minw,max=c.maxw,minnull=min===null,maxnull=max===null,em="em";if(!!min){min=parseFloat(min)*(min.indexOf(em)>-1?(eminpx||getEmValue()):1)}if(!!max){max=parseFloat(max)*(max.indexOf(em)>-1?(eminpx||getEmValue()):1)}if(!c.hasquery||(!minnull||!maxnull)&&(minnull||currWidth>=min)&&(maxnull||currWidth<=max)){if(!styleBlocks[c.media]){styleBlocks[c.media]=[]}styleBlocks[c.media].push(rules[c.rules])}}}for(var j in appendedEls){if(appendedEls.hasOwnProperty(j)){if(appendedEls[j]&&appendedEls[j].parentNode===head){head.removeChild(appendedEls[j])}}}appendedEls.length=0;for(var k in styleBlocks){if(styleBlocks.hasOwnProperty(k)){var d=m.createElement("style"),css=styleBlocks[k].join("\n");d.type="text/css";d.media=k;head.insertBefore(d,lastLink.nextSibling);if(d.styleSheet){d.styleSheet.cssText=css}else{d.appendChild(m.createTextNode(css))}appendedEls.push(d)}}},translate=function(b,c,d){var e=b.replace(h.regex.comments,'').replace(h.regex.keyframes,'').match(h.regex.media),ql=e&&e.length||0;c=c.substring(0,c.lastIndexOf("/"));var f=function(a){return a.replace(h.regex.urls,"$1"+c+"$2$3")},useMedia=!ql&&d;if(c.length){c+="/"}if(useMedia){ql=1}for(var i=0;i<ql;i++){var g,thisq,eachq,eql;if(useMedia){g=d;rules.push(f(b))}else{g=e[i].match(h.regex.findStyles)&&RegExp.$1;rules.push(RegExp.$2&&f(RegExp.$2))}eachq=g.split(",");eql=eachq.length;for(var j=0;j<eql;j++){thisq=eachq[j];if(isUnsupportedMediaQuery(thisq)){continue}mediastyles.push({media:thisq.split("(")[0].match(h.regex.only)&&RegExp.$2||"all",rules:rules.length-1,hasquery:thisq.indexOf("(")>-1,minw:thisq.match(h.regex.minw)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:thisq.match(h.regex.maxw)&&parseFloat(RegExp.$1)+(RegExp.$2||"")})}}applyMedia()},makeRequests=function(){if(l.length){var b=l.shift();ajax(b.href,function(a){translate(a,b.href,b.media);parsedSheets[b.href]=true;w.setTimeout(function(){makeRequests()},0)})}},ripCSS=function(){for(var i=0;i<links.length;i++){var a=links[i],href=a.href,media=a.media,isCSS=a.rel&&a.rel.toLowerCase()==="stylesheet";if(!!href&&isCSS&&!parsedSheets[href]){if(a.styleSheet&&a.styleSheet.rawCssText){translate(a.styleSheet.rawCssText,href,media);parsedSheets[href]=true}else{if((!/^([a-zA-Z:]*\/\/)/.test(href)&&!base)||href.replace(RegExp.$1,"").split("/")[0]===w.location.host){if(href.substring(0,2)==="//"){href=w.location.protocol+href}l.push({href:href,media:media})}}}}makeRequests()};ripCSS();h.update=ripCSS;h.getEmValue=getEmValue;function callMedia(){applyMedia(true)}if(w.addEventListener){w.addEventListener("resize",callMedia,false)}else if(w.attachEvent){w.attachEvent("onresize",callMedia)}})(this);